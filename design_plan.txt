# The design plan

### Ages
 - Stone Age
 - Bronze Age (100 food, 500 wood, 200 stone)
 - Iron Age (500 food, 300 gold, 300 bronze)

### Resources
 - food
 - wood
 - stone
 - gold
 - bronze
 Can only be collected in the bronze age and later:
 - iron

#### Sources of food
Hunting, fruit trees, berry bushes,
farms (possibly supplemented with cows and/or chickens)

### Civilizations
 I think for now, there will only be one civilization.

### Units
 - villager
 - pikeman
 - swordsman
 - archer
 - knight
 - battering ram
 - catapult
 - trebuchet
 - merchant

### Buildings
 - town center
 - house
 For collecting resources:
 - farm
 - lumber camp
 - stone quarry
 - mining camp
For defense:
 - wood wall (with gates)
 - stone wall (with gates)
 - wall fortification
 - towers
 - castles
 Military unit producing/training:
 - barracks
 - archery range
 - stable
 - siege works
 Other buildings:
 - blacksmith
 - Library
 - market

#### Town center
(Iron Age) Every player begins with a town center.
Cost: 300 wood, 200 stone
Hit points:
Can build: villagers (50 food)
  * 2 per turn during Stone Age
  * 4 per turn during Bronze Age
  * 6 per turn during Iron Age
Can research: the next age
Can garrison: 50 units
Defensible: True (i.e. units garrisoned shoot arrows at attackers)
Population support: 20 units

#### House
(Stone Age)
Cost: 100 wood
Can garrison: up to 10 units
Defensible: False
Population support: 10

#### Farm
(Bronze Age)
Cost: 100 wood, 20 food
I think that the following should be researched elsewhere:
Can research: plow (bronze age), windmill (iron age)

#### Lumber camp
(Stone Age)
Cost: 100 wood

#### Stone quarry
(Stone Age)
Cost: 100 wood

#### Mining camp
(Stone Age)
Cost: 100 wood

#### Wood wall
(Stone Age)
Cost: 5 (or 10?) wood per unit length

#### Stone wall
(Bronze Age)
Cost: 5 (or 10?) stone per unit length
Can garrison: False (without wall fortification)

#### Wall fortification
(Bronze Age) Can only be built on stone walls
Cost: 30 wood, 50 stone
Can garrison: 8 units
Defensible: True
Wall fortifications cannot be built right next to each other. They must be
spaced out somewhat.

#### Tower
(Bronze Age)
Cost: 50 wood, 120 stone
Can garrison: 10 units
Defensible: True

#### Castle
(Iron Age)
Cost: 500 stone, 200 wood, 100 iron
Can garrison: 100 units
Defensible: True

#### Barracks
(Stone Age)
Cost: 150 wood
Can garrison: 20 units
Defensible: False
Can build: pikeman (stone age), swordsman (bronze age)

#### Archery range
(Bronze Age)
Cost: 150 wood
Defensible: False
Can build: archer

#### Stable
(Iron Age)
Cost 150 wood
Can build: knight

#### Siege works
(Bronze Age)
Cost 150 wood
Can build: battering ram, catapult, trebuchet (Iron Age)

#### Blacksmith
(Bronze Age)
Cost: 150 wood, 25 stone
Should blacksmiths create armor for each unit or should they research better
armor and have the research apply automatically to every unit (of a specified
type)?

#### Library
(Iron Age)
Cost: 200 wood, 100 gold
Can research:
 * Physics (necessary to build trebuchet)
 * Printing press [But what on earth would this do?]
 * [Fill in more things]


#### Market
(Bronze Age)
Cost: 150 wood, 20 gold
Have the ability trade one resource for another.
Can build: merchant (which travels between markets for trade)

--------------------------------------------------------------------------------
## The map
I think the map will just be an n x n square grid. (There should be options
of what to choose for n: say from 100 to 1000. This could be done by choosing a
number from 1 to 10 and then just multiplying that by 100.) I plan on
representing a map as a Python list of lists called map. So len(map) == n and
each ls in map has len(ls) == n.

Unless the map is very small, only a part of the map can be printed at once.

IMPORTANT SIMPLIFICATION:
Ideally, only one unit or building can occupy a given space in the map at
the same time, but it would greatly simplify pathfinding if units can walk
through everything except walls. So in the first playable version of this game,
units can walk through all buildings except walls, and multiple units can occupy
the same space at the same time. (I think I will even allow units to walk
through their own walls too, just not enemy walls.) Also, if walls could be
built in arbitrary shape, then pathfinding would still have difficult cases.
But I am thinking that the only walls that can be built will have rectangular
shape (which is convex!) and must surround a town (which by definition has a
town center). Eh, I am thinking that "outposts" can be built too. Should they be
allowed to have walls? If so, then isn't avoiding small outposts (with walls)
just as difficult as avoiding buildings?

Most buildings should take up more than one space of the map. Buildings cannot
overlap, with the exception of wall fortifications, which must be built on top
of stone walls.

Here are the letters I'll use to represent the different objects:
Resources and units will be lower case letters. Buildings will be upper case
letters (except for walls).

Resources
 - f: food:
 - w: wood:
 - s: stone: (Conflicts with swordsman.)
 - g: gold:
 - b: bronze:
 - i: iron:

Units
For a possible later version of the game, when only one unit can occupy a space
and also cannot occupy a space a building is in...
  - v: villager
  - p: pikeman
  - s: swordsman (Conflicts with stone. Oh well.)
  - a: archer
  - k: knight
  - r: battering ram (To not conflict with bronze.)
  - c: catapult
  - t: trebuchet
  - m: merchant
(Should I also list deer as d, elk as e?)

Buildings (with the space they take up:)
  - T: town center: 4 x 4 (conflicts with tower, but the size difference
  - H: house  2 x 2                              makes them distinguishable)

  - F: farm 2 x 2
  - L: lumber camp 2 x 2
  - Q: stone quarry (not to conflict with stable and siege words) 2 x 2
  - M: mining camp (market) 2 x 2

  - . (i.e. a period) wood wall: 1 x 1
  - G: wood wall gates: 1 x 4 or 4 x 1
  - * (an asterisk) stone wall 1 x 1
  - G: stone wall gates: 1 x 4 or 4 x 1
  - F: wall fortification (conflicts with farm) 1 x 3 or 3 x 1
  - T: tower: 2 x 2
  - C: castle: 5 x 5

  - B: barracks: 3 x 3
  - A: archery range: 5 x 3
  - S: stable: 3 x 3
  - W: siege works (not to conflict with stable): 3 x 3

  - X: blacksmith: 3 x 3 (To not conflict with barracks)
  - L: Library (Conflicts with lumber camp: U if I change to university): 3 x 3
  - K: market (not to conflict with mining camp) 3 x 3
  - W: wonder (conflicts with siege works) 6 x 6

Spots with nothing in them will be represented by a blank: ' '
Should each player have their own viewable map? If so, then spots not yet
examined should be a question mark. Whether or not players have their own
viewable map, there should be a master map.

It would be nice if different players were printed with different color text,
but for now, everyone will have the same color. After all. this is a text-based
game, and printing (part of) the map is a bonus feature and perhaps not to be
expected.

I think distances should be calculated using the taxicab metric. i.e.
distance(map[i1][j1], map[i2][j2]) == abs(i2 - i1) + abs(j2 - j1)
A consequence of this is that the farthest point from the south-east corner of
the map is the north-west corner of the map.

--------------------------------------------------------------------------------
Stages of development:

What is the simplest prototype of this game? It's this:
Stage 1: Finished! - on August 16, 2018.
 - have some playable map (at least partially fill a small map)
 - be able to print the map (In fact, any specified part can now be printed.)
 - enable villagers to be built
 - enable villagers to move
 - enable villagers to collect wood

 Next stage: Finished! - on August 16 (or 14th?), 2018.
  - enable villagers to gather food

Next stage: Finished! - on August 18, 2018.
 - build a house
  (Be able to build a building at a specified location.)

Next stage: (or the same stage as the previous one?) Finished! - on August 18.
 - build a lumber camp
 - build a stone quarry
 - build a mining camp

Next stage: Finished! - on August 20, 2018.
 - build a barracks
 - build a pikeman from a barracks

Next stage: Finished! - on August 20, 2018.
 - research the bronze age
 - enable villagers to mine gold and bronze (Finished in an earlier stage.)

Next stage: Finished! - on August 21, 2018.
 - be able to change a building's build_position
 - be able to specify a first command for villagers built
   (For example, allow villagers to move to any specified position (in which
   case they would be given a 'move' command, if the specified location is not
   within 6 spots of the building's position) and further, allow a command to
   have them start collecting a certain resource.)

Nest stage: Finished! - on August 23, 2018.
 - build a farm
 - enable villagers to gather food from farms

Next stage:
 - build a blacksmith, and enable the following things to be researched there:
   * bronze tipped plow (Benefits villagers farming.)
   * bronze axes (benefits villagers chopping wood)
   * bronze picks (benefits villagers collecting stone, gold, bronze, or iron)

 Next stage:
 - enable the following to be researched at the blacksmith:
   * bronze swords (necessary for swordsmen and knights)
   * bronze shields (necessary for swordsmen and knights)
   * bronze armor plates (helps swordsmen and pikemen necessary for knights)
 - after the appropriate research, train swordsmen

At some point:
Be able to print everything that can be built/researched from any given
building.

Be able to print the current population.

Delayed for now:
 - have more of the map discovered as villagers move around
